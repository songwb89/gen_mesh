<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—äººæ’­æ”¾å™¨ - ç²¾çµå›¾ç‰ˆæœ¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            min-height: 100vh;
            background: #e5e5e5;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', sans-serif;
        }
        .container {
            display: flex;
            align-items: center;
            gap: 40px;
            position: relative;
        }
        /* æ’­æ”¾å™¨åŒºåŸŸ */
        .player {
            width: 640px;
            height: 400px;
            background: #000;
            border-radius: 12px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .player-placeholder {
            color: #444;
            font-size: 24px;
            text-align: center;
        }
        .player-placeholder span {
            display: block;
            font-size: 64px;
            margin-bottom: 10px;
        }
        /* æ’­æ”¾æŒ‰é’® */
        .play-btn {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .play-btn:hover {
            background: #fff;
            transform: translateX(-50%) scale(1.1);
        }
        .play-btn svg {
            width: 24px;
            height: 24px;
            fill: #1a1a2e;
        }
        .play-btn .pause-icon { display: none; }
        .play-btn.playing .play-icon { display: none; }
        .play-btn.playing .pause-icon { display: block; }
        /* æ•°å­—äººåŒºåŸŸ */
        .digital-human {
            width: 500px;
            height: 667px;
            position: relative;
            overflow: hidden;
        }
        .digital-human-sprite {
            width: 41000px; /* 500px * 82å¸§ */
            height: 667px;
            background-repeat: no-repeat;
            background-size: 41000px 667px;
            transition: none;
        }
        .status {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #4ade80;
            font-size: 14px;
            white-space: nowrap;
        }
        .status.paused { color: #f87171; }
    </style>
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§æ•°å­—äºº -->
        <div class="digital-human">
            <div id="avatarLeft" class="digital-human-sprite" style="background-image: url('data/frames/sprite2.png');"></div>
        </div>
        <!-- æ’­æ”¾å™¨ -->
        <div class="player">
            <div class="player-placeholder">
                <span>ğŸ¬</span>
                è§†é¢‘æ’­æ”¾åŒºåŸŸ
            </div>
            <button class="play-btn" id="playBtn">
                <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                <svg class="pause-icon" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
        </div>
        <!-- å³ä¾§æ•°å­—äºº -->
        <div class="digital-human">
            <div id="avatarRight" class="digital-human-sprite" style="background-image: url('data/frames/sprite1.png');"></div>
        </div>
        <div class="status paused" id="status">å·²æš‚åœ</div>
    </div>

    <script>
        // ç²¾çµå›¾é…ç½®
        const frameWidth = 500;
        const totalFrames = 82; // ç¬¬1å¸§ + ç¬¬10-90å¸§ = 82å¸§
        const fps = 24;
        const frameInterval = 1000 / fps;
        
        // å¸§ç´¢å¼•ï¼š0=ç¬¬1å¸§ï¼ˆæš‚åœç”¨ï¼‰ï¼Œ1-81=ç¬¬10-90å¸§ï¼ˆåŠ¨ç”»ç”¨ï¼‰
        const animStartIndex = 1; // åŠ¨ç”»ä»ç´¢å¼•1å¼€å§‹
        const animEndIndex = 81;   // åŠ¨ç”»åˆ°ç´¢å¼•81ç»“æŸ
        
        let currentIndex = animStartIndex;
        let direction = 1; // 1: æ­£æ”¾, -1: å€’æ”¾
        let isPlaying = false;
        let animationTimer = null;
        
        const playBtn = document.getElementById('playBtn');
        const avatarLeft = document.getElementById('avatarLeft');
        const avatarRight = document.getElementById('avatarRight');
        const status = document.getElementById('status');
        
        function updateFrame() {
            // è®¡ç®—èƒŒæ™¯ä½ç½®
            const offsetX = -currentIndex * frameWidth;
            avatarLeft.style.backgroundPosition = `${offsetX}px 0`;
            avatarRight.style.backgroundPosition = `${offsetX}px 0`;
            
            // æ›´æ–°ç´¢å¼•ï¼ˆä¹’ä¹“æ’­æ”¾ï¼‰
            currentIndex += direction;
            if (currentIndex > animEndIndex) {
                currentIndex = animEndIndex - 1;
                direction = -1;
            } else if (currentIndex < animStartIndex) {
                currentIndex = animStartIndex + 1;
                direction = 1;
            }
        }
        
        function play() {
            isPlaying = true;
            playBtn.classList.add('playing');
            status.textContent = 'æ’­æ”¾ä¸­';
            status.classList.remove('paused');
            animationTimer = setInterval(updateFrame, frameInterval);
        }
        
        function pause() {
            isPlaying = false;
            playBtn.classList.remove('playing');
            status.textContent = 'å·²æš‚åœ';
            status.classList.add('paused');
            clearInterval(animationTimer);
            // æš‚åœæ—¶æ˜¾ç¤ºç¬¬1å¸§ï¼ˆç´¢å¼•0ï¼‰
            avatarLeft.style.backgroundPosition = '0 0';
            avatarRight.style.backgroundPosition = '0 0';
            currentIndex = animStartIndex;
            direction = 1;
        }
        
        playBtn.addEventListener('click', () => {
            if (isPlaying) {
                pause();
            } else {
                play();
            }
        });
        
        // åˆå§‹æ˜¾ç¤ºç¬¬1å¸§
        pause();
    </script>
</body>
</html>
